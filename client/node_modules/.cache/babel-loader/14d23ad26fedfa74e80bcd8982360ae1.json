{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useNotifierContext } from \"../../../providers\";\n\nconst useNotificationsHook = () => {\n  _s();\n\n  const {\n    setNotifiers\n  } = useNotifierContext();\n\n  const getNotifications = async () => {\n    try {\n      let response = await axios.post(\"/api/articles/get\");\n      let data = await response.data;\n\n      if (!data.status) {\n        setNotifiers({\n          errors: data.errors\n        });\n        return false;\n      }\n\n      return data.articles;\n    } catch (e) {\n      alert(e.message);\n    }\n  };\n  /******************************************************/\n\n\n  const deleteNotification = async _id => {\n    try {\n      let response = await axios.post(\"/api/articles/delete\", {\n        _id\n      });\n      let data = await response.data;\n\n      if (!data.status) {\n        setNotifiers({\n          errors: data.errors\n        });\n        return false;\n      }\n\n      setNotifiers({\n        success: data.messages\n      });\n      return true;\n    } catch (e) {\n      alert(e.message);\n    }\n  };\n  /******************************************************/\n\n\n  const sendNotification = async formRef => {\n    try {\n      let notificationData = new FormData(formRef.current);\n      let response = await axios.post(\"/api/notifications/send\", notificationData);\n      let data = await response.data;\n\n      if (!data.status) {\n        setNotifiers({\n          errors: data.errors\n        });\n        return false;\n      }\n\n      setNotifiers({\n        success: data.messages\n      });\n      return data.article;\n    } catch (e) {\n      alert(e.message);\n    }\n  };\n  /******************************************************/\n\n\n  const editNotification = async formRef => {\n    try {\n      let articleData = new FormData(formRef.current);\n      let response = await axios.post(\"/api/articles/edit\", articleData);\n      let data = await response.data;\n      console.log(data);\n\n      if (!data.status) {\n        setNotifiers({\n          errors: data.errors\n        });\n        return false;\n      }\n\n      setNotifiers({\n        success: data.messages\n      });\n      return data.article;\n    } catch (e) {\n      alert(e.message);\n    }\n  };\n\n  return {\n    getNotification: getNotifications,\n    deleteNotification: deleteNotification,\n    sendNotification: sendNotification,\n    editNotification: editNotification\n  };\n};\n\n_s(useNotificationsHook, \"Qrog+wafX6oaOESQjnohXpTgwg4=\", false, function () {\n  return [useNotifierContext];\n});\n\nexport default useNotificationsHook;","map":{"version":3,"sources":["C:/Users/user/Desktop/khamsat/Nouveau dossier/tamreny_project/tamreny/client/src/screens/Notifications/hooks/index.js"],"names":["axios","useNotifierContext","useNotificationsHook","setNotifiers","getNotifications","response","post","data","status","errors","articles","e","alert","message","deleteNotification","_id","success","messages","sendNotification","formRef","notificationData","FormData","current","article","editNotification","articleData","console","log","getNotification"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { useNotifierContext } from \"../../../providers\";\n\nconst useNotificationsHook = () => {\n  const { setNotifiers } = useNotifierContext();\n\n  const getNotifications = async () => {\n    try {\n      let response = await axios.post(\"/api/articles/get\");\n      let data = await response.data;\n\n      if (!data.status) {\n        setNotifiers({ errors: data.errors });\n        return false;\n      }\n      return data.articles;\n    } catch (e) {\n      alert(e.message);\n    }\n  };\n\n  /******************************************************/\n\n  const deleteNotification = async (_id) => {\n    try {\n      let response = await axios.post(\"/api/articles/delete\", { _id });\n      let data = await response.data;\n\n      if (!data.status) {\n        setNotifiers({ errors: data.errors });\n        return false;\n      }\n      setNotifiers({ success: data.messages });\n      return true;\n    } catch (e) {\n      alert(e.message);\n    }\n  };\n\n  /******************************************************/\n\n  const sendNotification = async (formRef) => {\n    try {\n      let notificationData = new FormData(formRef.current);\n\n      let response = await axios.post(\n        \"/api/notifications/send\",\n        notificationData\n      );\n      let data = await response.data;\n\n      if (!data.status) {\n        setNotifiers({ errors: data.errors });\n        return false;\n      }\n      setNotifiers({ success: data.messages });\n      return data.article;\n    } catch (e) {\n      alert(e.message);\n    }\n  };\n  /******************************************************/\n\n  const editNotification = async (formRef) => {\n    try {\n      let articleData = new FormData(formRef.current);\n\n      let response = await axios.post(\"/api/articles/edit\", articleData);\n      let data = await response.data;\n\n      console.log(data);\n      if (!data.status) {\n        setNotifiers({ errors: data.errors });\n        return false;\n      }\n      setNotifiers({ success: data.messages });\n      return data.article;\n    } catch (e) {\n      alert(e.message);\n    }\n  };\n\n  return {\n    getNotification: getNotifications,\n    deleteNotification: deleteNotification,\n    sendNotification: sendNotification,\n    editNotification: editNotification,\n  };\n};\n\nexport default useNotificationsHook;\n"]},"metadata":{},"sourceType":"module"}