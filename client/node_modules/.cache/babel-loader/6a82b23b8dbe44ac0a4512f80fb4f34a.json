{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\khamsat\\\\Nouveau dossier\\\\tamreny_project\\\\tamreny\\\\client\\\\src\\\\screens\\\\Questions\\\\Questions.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useRef } from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport { Table, DataBox, SearchBox, DeleteBox } from \"../../components\"; //Hooks\n\nimport useDietsHook from \"./hooks/index\"; //Styles\n\nimport \"./style.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Questions = () => {\n  _s();\n\n  const {\n    getQuestions,\n    deleteQuestion,\n    deleteAnswer\n  } = useDietsHook();\n  const [questions, setQuestions] = useState([]);\n  const [answers, setAnswers] = useState([]);\n  const [deleteBoxVisible, setDeleteBoxVisible] = useState(false);\n  const [deleteBoxVisibleAnswers, setDeleteBoxVisibleAnswers] = useState(false);\n  const [answersVisible, setAnswersVisible] = useState(false);\n  const [questionsVisible, setQuestionsVisible] = useState(true);\n  const [questionId, setQuestionId] = useState(0);\n  const [questionObj, setQuestionObj] = useState({\n    _id: 0,\n    question: \"\",\n    time: \"\"\n  });\n  const [answernObj, setAnswerObj] = useState({\n    _id: 0,\n    questionId: 0\n  });\n  useEffect(() => {\n    (async () => {\n      const result = await getQuestions();\n\n      if (result) {\n        setQuestions(result);\n      }\n    })();\n  }, []);\n\n  const onClickEdit = _id => {\n    const question = questions.find(u => u._id === _id);\n    setQuestionId(question._id);\n    const a = question.answers;\n    setAnswers(a);\n    setQuestionsVisible(false);\n    setAnswersVisible(true);\n  };\n\n  const onClickDelete = _id => {\n    setQuestionObj(questions.find(u => u._id === _id));\n    setDeleteBoxVisible(true);\n  };\n\n  const onClickDeleteAnswer = _id => {\n    const a = answers.find(u => u._id === _id);\n    setAnswerObj({\n      _id: _id,\n      questionId: questionId\n    });\n    setDeleteBoxVisibleAnswers(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"\\u0644\\u0648\\u062D\\u0629 \\u0627\\u0644\\u062A\\u062D\\u0643\\u0645/ \\u0627\\u0644\\u0627\\u0633\\u0626\\u0644\\u0647\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DeleteBox, {\n      visible: deleteBoxVisible,\n      setVisible: setDeleteBoxVisible,\n      title: `حذف السؤال رقم ${questionObj._id}`,\n      onDelete: async () => {\n        if (await deleteQuestion(questionObj._id)) {\n          setQuestions(questions.filter(u => u._id !== questionObj._id));\n          setDeleteBoxVisible(false);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DeleteBox, {\n      visible: deleteBoxVisibleAnswers,\n      setVisible: setDeleteBoxVisibleAnswers,\n      title: `حذف الجواب رقم ${answernObj._id}`,\n      onDelete: async () => {\n        if (await deleteAnswer(answernObj)) {\n          setQuestions(questions.filter(u => u._id !== answernObj._id));\n          setDeleteBoxVisible(false);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-position\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u0644\\u0648\\u062D\\u0629 \\u0627\\u0644\\u062A\\u062D\\u0643\\u0645\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n          children: \"  \\u0627\\u0644\\u0627\\u0633\\u0626\\u0644\\u0647\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), questionsVisible ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          actions: {\n            edit: onClickEdit,\n            delete: onClickDelete\n          },\n          headers: [\"#\", \" السؤال\", \"تاريخ الإضافة\"],\n          data: questions && questions.map(u => [u._id, u.question, u.time])\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this) : \"\", answersVisible ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"add-new\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-add-new\",\n            onClick: () => {\n              setAnswersVisible(false);\n              setQuestionsVisible(true);\n            },\n            children: \"\\u0627\\u0644\\u0631\\u062C\\u0648\\u0639 \\u0627\\u0644\\u0649 \\u0627\\u0644\\u0627\\u0633\\u0626\\u0644\\u0629\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(Table, {\n          actions: {\n            delete: onClickDeleteAnswer\n          },\n          headers: [\"#\", \" الجواب\", \"تاريخ الإضافة\"],\n          data: answers && answers.map((u, i) => [u._id, u.answer, u.time])\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 5\n      }, this) : \"\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 1\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Questions, \"cU8rSwqxZNFiLHNT7siLiLIJEPk=\", false, function () {\n  return [useDietsHook];\n});\n\n_c = Questions;\nexport default Questions;\n\nvar _c;\n\n$RefreshReg$(_c, \"Questions\");","map":{"version":3,"sources":["C:/Users/user/Desktop/khamsat/Nouveau dossier/tamreny_project/tamreny/client/src/screens/Questions/Questions.jsx"],"names":["useState","useEffect","useRef","Helmet","Table","DataBox","SearchBox","DeleteBox","useDietsHook","Questions","getQuestions","deleteQuestion","deleteAnswer","questions","setQuestions","answers","setAnswers","deleteBoxVisible","setDeleteBoxVisible","deleteBoxVisibleAnswers","setDeleteBoxVisibleAnswers","answersVisible","setAnswersVisible","questionsVisible","setQuestionsVisible","questionId","setQuestionId","questionObj","setQuestionObj","_id","question","time","answernObj","setAnswerObj","result","onClickEdit","find","u","a","onClickDelete","onClickDeleteAnswer","filter","edit","delete","map","i","answer"],"mappings":"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","sourcesContent":["import { useState, useEffect, useRef } from \"react\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport { Table, DataBox, SearchBox, DeleteBox } from \"../../components\";\r\n\r\n//Hooks\r\nimport useDietsHook from \"./hooks/index\";\r\n\r\n//Styles\r\nimport \"./style.scss\";\r\n\r\nconst Questions = () => {\r\n  const {\r\n    getQuestions,\r\n    deleteQuestion,\r\n    deleteAnswer\r\n  } = useDietsHook();\r\n\r\n  const [questions, setQuestions] = useState([]);\r\n\r\n  const [answers, setAnswers] = useState([]);\r\n\r\n  const [deleteBoxVisible, setDeleteBoxVisible] = useState(false);\r\n\r\n  const [deleteBoxVisibleAnswers, setDeleteBoxVisibleAnswers] = useState(false)\r\n  const [answersVisible, setAnswersVisible] = useState(false)\r\n  const [questionsVisible, setQuestionsVisible] = useState(true)\r\n\r\n  const [questionId, setQuestionId] = useState(0)\r\n\r\n\r\n  const [questionObj, setQuestionObj] = useState({\r\n    _id: 0,\r\n    question: \"\",\r\n    time: \"\",\r\n  });\r\n\r\n  const [answernObj, setAnswerObj] = useState({\r\n    _id: 0,\r\n    questionId:0\r\n  });\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const result = await getQuestions();\r\n\r\n      if (result) {\r\n        setQuestions(result);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n\r\n  const onClickEdit = (_id) => {\r\n    const question = questions.find((u) => u._id === _id);\r\n    setQuestionId(question._id)\r\n    const a = question.answers;\r\n     setAnswers(a)\r\n    setQuestionsVisible(false)\r\n    setAnswersVisible(true);\r\n\r\n  };\r\n\r\n  const onClickDelete = (_id) => {\r\n    setQuestionObj(questions.find((u) => u._id === _id));\r\n    setDeleteBoxVisible(true);\r\n  };\r\n\r\n  const onClickDeleteAnswer = (_id) => {\r\n\r\n    const a = answers.find((u) => u._id === _id)\r\n\r\n    setAnswerObj({_id:_id,questionId:questionId});\r\n\r\n    setDeleteBoxVisibleAnswers(true);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>لوحة التحكم/ الاسئله</title>\r\n      </Helmet>\r\n      <DeleteBox\r\n        visible={deleteBoxVisible}\r\n        setVisible={setDeleteBoxVisible}\r\n        title={`حذف السؤال رقم ${questionObj._id}`}\r\n        onDelete={async () => {\r\n        \r\n          if (await deleteQuestion(questionObj._id)) {\r\n            setQuestions(questions.filter((u) => u._id !== questionObj._id));\r\n            setDeleteBoxVisible(false);\r\n          }\r\n        }}\r\n      />\r\n\r\n      {/* delete box for answers */}\r\n\r\n      <DeleteBox\r\n        visible={deleteBoxVisibleAnswers}\r\n        setVisible={setDeleteBoxVisibleAnswers}\r\n        title={`حذف الجواب رقم ${answernObj._id}`}\r\n        onDelete={async () => {\r\n        \r\n          if (await deleteAnswer(answernObj)) {\r\n            setQuestions(questions.filter((u) => u._id !== answernObj._id));\r\n            setDeleteBoxVisible(false);\r\n          }\r\n        }}\r\n      />\r\n\r\n<div className=\"main-container\">\r\n        <div className=\"page-position\">\r\n          <h2>لوحة التحكم</h2>\r\n          <p>/</p>\r\n          <h6>  الاسئله</h6>\r\n        </div>\r\n    \r\n{ questionsVisible ?    \r\n\r\n        <div className=\"container\">\r\n          {/*<SearchBox />*/}\r\n          <Table\r\n            actions={{\r\n              edit: onClickEdit,\r\n              delete: onClickDelete,\r\n            }}\r\n            headers={[\r\n              \"#\",\r\n              \" السؤال\",                    \r\n              \"تاريخ الإضافة\",\r\n           \r\n            ]}\r\n            data={\r\n              questions &&\r\n              questions.map((u) => [\r\n                u._id,\r\n                u.question,\r\n                u.time,\r\n                \r\n              ])\r\n            }\r\n          />\r\n        </div>  : \"\"}\r\n\r\n        {/* answers */}\r\n\r\n        {\r\n   answersVisible ? \r\n\r\n        \r\n    <div className=\"container\">\r\n\r\n<div className=\"add-new\">\r\n            <button\r\n              className=\"btn-add-new\"\r\n              onClick={() => {setAnswersVisible(false); setQuestionsVisible(true)}}\r\n            >\r\n             الرجوع الى الاسئلة\r\n            </button>\r\n          </div>\r\n          \r\n          <Table\r\n            actions={{\r\n               delete: onClickDeleteAnswer,\r\n            }}\r\n            headers={[\r\n              \"#\",\r\n              \" الجواب\",  \r\n              \"تاريخ الإضافة\"                 \r\n            ]}\r\n            data={\r\n              answers &&\r\n              answers.map((u,i) => [\r\n              \r\n                u._id,\r\n                u.answer,\r\n                u.time,\r\n                \r\n              ])\r\n            }\r\n            \r\n          />\r\n        </div>\r\n         : \"\" }\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Questions;\r\n"]},"metadata":{},"sourceType":"module"}