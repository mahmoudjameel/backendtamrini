{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\khamsat\\\\Nouveau dossier\\\\tamreny_project\\\\tamreny\\\\client\\\\src\\\\screens\\\\Barcodes\\\\Barcodes.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useRef } from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport { Table, DataBox, SearchBox, DeleteBox } from \"../../components\"; //Hooks\n\nimport useArticlesHook from \"./hooks/index\"; //Styles\n\nimport \"./style.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Barcodes = () => {\n  _s();\n\n  const {\n    getBarcodes,\n    deleteBarcodes,\n    addBarcode,\n    editBarcode\n  } = useArticlesHook();\n  const [barcodes, setBarcodes] = useState([]);\n  const [addBoxVisible, setAddBoxVisible] = useState(false);\n  const [editBoxVisible, setEditBoxVisible] = useState(false);\n  const [deleteBoxVisible, setDeleteBoxVisible] = useState(false);\n  const [barcodeObj, setBarcodeObj] = useState({\n    _id: 0,\n    name: \"\",\n    code: \"\",\n    type: \"\",\n    protein: 0,\n    fat: 0,\n    energy: 0,\n    carbs: 0,\n    mainImage: \"\",\n    createDate: \"\"\n  });\n  const addFormRef = useRef(null);\n  const editFormRef = useRef(null);\n  useEffect(() => {\n    (async () => {\n      const result = await getBarcodes();\n\n      if (result) {\n        setBarcodes(result);\n      }\n    })();\n  }, []);\n  useEffect(() => {\n    if (addBoxVisible) setBarcodeObj({\n      _id: 0,\n      title: \"\",\n      content: \"\",\n      mainImage: \"\",\n      createDate: \"\"\n    });\n  }, [addBoxVisible]);\n\n  const onClickEdit = _id => {\n    const article = barcodes.find(u => u._id === _id);\n    setBarcodeObj(article);\n    setEditBoxVisible(true);\n  };\n\n  const onClickDelete = _id => {\n    setBarcodeObj(barcodes.find(u => u._id === _id));\n    setDeleteBoxVisible(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"\\u0644\\u0648\\u062D\\u0629 \\u0627\\u0644\\u062A\\u062D\\u0643\\u0645 / \\u0627\\u0644\\u0628\\u062D\\u062B \\u0639\\u0646 \\u0637\\u0631\\u064A\\u0642 \\u0627\\u0644\\u0628\\u0627\\u0631\\u0643\\u0648\\u062F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DeleteBox, {\n      visible: deleteBoxVisible,\n      setVisible: setDeleteBoxVisible,\n      title: `حذف المقالة رقم ${barcodeObj._id}`,\n      onDelete: async () => {\n        if (await deleteBarcodes(barcodeObj._id)) {\n          setBarcodes(barcodes.filter(u => u._id !== barcodeObj._id));\n          setDeleteBoxVisible(false);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DataBox, {\n      visible: addBoxVisible,\n      setVisible: setAddBoxVisible,\n      options: {\n        title: \"اضافة مقال جديد\",\n        onSave: async () => {\n          const article = await addBarcode(addFormRef);\n\n          if (article) {\n            setBarcodes([...barcodes, article]);\n            setAddBoxVisible(false);\n          }\n        },\n        btnSave: \"اضافة\",\n        formRef: addFormRef\n      },\n      inputs: [{\n        tag: \"input\",\n        label: \"الاسم\",\n        props: {\n          type: \"text\",\n          name: \"name\",\n          placeholder: \"الاسم\",\n          required: true,\n          maxLength: 100,\n          onChange: e => setBarcodeObj({ ...barcodeObj,\n            name: e.target.value\n          })\n        }\n      }, {\n        tag: \"input\",\n        label: \"الباركود\",\n        props: {\n          type: \"text\",\n          name: \"code\",\n          placeholder: \"الباركود\",\n          required: true,\n          maxLength: 100,\n          onChange: e => setBarcodeObj({ ...barcodeObj,\n            code: e.target.value\n          })\n        }\n      }, {\n        tag: \"input\",\n        label: \"نوع  الباركود\",\n        props: {\n          type: \"text\",\n          name: \"type\",\n          placeholder: \"نوع  الباركود\",\n          required: true,\n          maxLength: 100,\n          onChange: e => setBarcodeObj({ ...barcodeObj,\n            type: e.target.value\n          })\n        }\n      }, {\n        tag: \"input\",\n        label: \"البروتينات\",\n        props: {\n          type: \"number\",\n          name: \"protein\",\n          placeholder: \"البروتينات\",\n          required: true,\n          maxLength: 100,\n          onChange: e => setBarcodeObj({ ...barcodeObj,\n            protein: e.target.value\n          })\n        }\n      }, {\n        tag: \"input\",\n        label: \"الطاقة\",\n        props: {\n          type: \"number\",\n          name: \"energy\",\n          placeholder: \"الطاقة\",\n          required: true,\n          maxLength: 100,\n          onChange: e => setBarcodeObj({ ...barcodeObj,\n            energy: e.target.value\n          })\n        }\n      }, {\n        tag: \"input\",\n        label: \"الدهون\",\n        props: {\n          type: \"number\",\n          name: \"fat\",\n          placeholder: \"الدهون\",\n          required: true,\n          maxLength: 100,\n          onChange: e => setBarcodeObj({ ...barcodeObj,\n            fat: e.target.value\n          })\n        }\n      }, {\n        tag: \"input\",\n        label: \"الكربوهيدرات\",\n        props: {\n          type: \"text\",\n          name: \"carbs\",\n          placeholder: \"الكربوهيدرات\",\n          required: true,\n          maxLength: 100,\n          onChange: e => setBarcodeObj({ ...barcodeObj,\n            carbs: e.target.value\n          })\n        }\n      }, {\n        tag: \"input\",\n        label: \"الصورة المصغرة\",\n        props: {\n          type: \"file\",\n          accept: \".jpg, .png, .jpeg\",\n          name: \"mainImage\",\n          placeholder: \"الصورة المصغرة\",\n          required: true,\n          multiple: true,\n          onChange: e => setBarcodeObj({ ...barcodeObj,\n            mainImage: e.target.files[0]\n          })\n        }\n      }]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DataBox, {\n      visible: editBoxVisible,\n      setVisible: setEditBoxVisible,\n      options: {\n        title: `تعديل المقال رقم ${barcodeObj._id}`,\n        onSave: async () => {\n          const result = await editBarcode(editFormRef);\n\n          if (result) {\n            setBarcodes(barcodes.map(u => u._id === result._id ? result : u));\n            setEditBoxVisible(false);\n          }\n        },\n        saveBtn: \"تعديل\",\n        formRef: editFormRef,\n        images: barcodeObj.mainImage\n      },\n      inputs: [{\n        tag: \"input\",\n        props: {\n          type: \"hidden\",\n          value: barcodeObj._id,\n          name: \"_id\"\n        }\n      }, {\n        tag: \"input\",\n        label: \"عنوان المقال\",\n        props: {\n          type: \"text\",\n          value: barcodeObj.title,\n          name: \"title\",\n          placeholder: \"عنوان المقال\",\n          required: true,\n          maxLength: 100,\n          onChange: e => setBarcodeObj({ ...barcodeObj,\n            title: e.target.value\n          })\n        }\n      }, {\n        tag: \"textarea\",\n        label: \"محتوي المقال\",\n        props: {\n          type: \"text\",\n          value: barcodeObj.content,\n          name: \"content\",\n          placeholder: \"محتوي المقال\",\n          required: true,\n          onChange: e => setBarcodeObj({ ...barcodeObj,\n            content: e.target.value\n          })\n        }\n      }, {\n        tag: \"input\",\n        label: \"الصورة المصغرة\",\n        props: {\n          type: \"file\",\n          accept: \".jpg, .png, .jpeg\",\n          placeholder: \"الصورة المصغرة\",\n          name: \"mainImage\",\n          multiple: true,\n          onChange: e => setBarcodeObj({ ...barcodeObj,\n            mainImage: URL.createObjectURL(e.target.files[0])\n          })\n        }\n      }]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-position\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u0644\\u0648\\u062D\\u0629 \\u0627\\u0644\\u062A\\u062D\\u0643\\u0645\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n          children: \"\\u0627\\u0644\\u0628\\u062D\\u062B \\u0639\\u0646 \\u0637\\u0631\\u064A\\u0642 \\u0627\\u0644\\u0628\\u0627\\u0631\\u0643\\u0648\\u062F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"add-new\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-add-new\",\n            onClick: () => setAddBoxVisible(true),\n            children: \"\\u0623\\u0636\\u0641 \\u062C\\u062F\\u064A\\u062F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Table, {\n          actions: {\n            edit: onClickEdit,\n            delete: onClickDelete\n          },\n          headers: [\"#\", \"الصورة المصغرة\", \"عنوان المقال\", \"محتوي المقال\", \"تاريخ الإضافة\"],\n          data: barcodes && barcodes.map(u => [u._id, {\n            type: \"slider\",\n            images: u.mainImage\n          }, u.title, u.content, u.createDate])\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Barcodes, \"xpBHdDZi6o7iY9Gp1Loo5ZxpBQo=\", false, function () {\n  return [useArticlesHook];\n});\n\n_c = Barcodes;\nexport default Barcodes;\n\nvar _c;\n\n$RefreshReg$(_c, \"Barcodes\");","map":{"version":3,"sources":["C:/Users/user/Desktop/khamsat/Nouveau dossier/tamreny_project/tamreny/client/src/screens/Barcodes/Barcodes.jsx"],"names":["useState","useEffect","useRef","Helmet","Table","DataBox","SearchBox","DeleteBox","useArticlesHook","Barcodes","getBarcodes","deleteBarcodes","addBarcode","editBarcode","barcodes","setBarcodes","addBoxVisible","setAddBoxVisible","editBoxVisible","setEditBoxVisible","deleteBoxVisible","setDeleteBoxVisible","barcodeObj","setBarcodeObj","_id","name","code","type","protein","fat","energy","carbs","mainImage","createDate","addFormRef","editFormRef","result","title","content","onClickEdit","article","find","u","onClickDelete","filter","onSave","btnSave","formRef","tag","label","props","placeholder","required","maxLength","onChange","e","target","value","accept","multiple","files","map","saveBtn","images","URL","createObjectURL","edit","delete"],"mappings":"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","sourcesContent":["import { useState, useEffect, useRef } from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport { Table, DataBox, SearchBox, DeleteBox } from \"../../components\";\n\n//Hooks\nimport useArticlesHook from \"./hooks/index\";\n\n//Styles\nimport \"./style.scss\";\n\nconst Barcodes = () => {\n  const {\n     getBarcodes,\n    deleteBarcodes,\n    addBarcode,\n    editBarcode,\n  } = useArticlesHook();\n\n  const [barcodes, setBarcodes] = useState([]);\n  const [addBoxVisible, setAddBoxVisible] = useState(false);\n  const [editBoxVisible, setEditBoxVisible] = useState(false);\n  const [deleteBoxVisible, setDeleteBoxVisible] = useState(false);\n\n  const [barcodeObj, setBarcodeObj] = useState({\n    _id: 0,\n    name:\"\",\n    code:\"\",\n    type:\"\",\n    protein: 0,\n    fat: 0,\n    energy: 0,\n    carbs: 0,\n    mainImage: \"\",\n    createDate: \"\",\n  });\n\n  const addFormRef = useRef(null);\n  const editFormRef = useRef(null);\n\n  useEffect(() => {\n    (async () => {\n      const result = await getBarcodes();\n\n      if (result) {\n        setBarcodes(result);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    if (addBoxVisible)\n      setBarcodeObj({\n        _id: 0,\n        title: \"\",\n        content: \"\",\n        mainImage: \"\",\n        createDate: \"\",\n      });\n  }, [addBoxVisible]);\n\n  const onClickEdit = (_id) => {\n    const article = barcodes.find((u) => u._id === _id);\n    setBarcodeObj(article);\n    setEditBoxVisible(true);\n  };\n  const onClickDelete = (_id) => {\n    setBarcodeObj(barcodes.find((u) => u._id === _id));\n    setDeleteBoxVisible(true);\n  };\n\n  return (\n    <>\n      <Helmet>\n        <title>لوحة التحكم / البحث عن طريق الباركود</title>\n      </Helmet>\n      <DeleteBox\n        visible={deleteBoxVisible}\n        setVisible={setDeleteBoxVisible}\n        title={`حذف المقالة رقم ${barcodeObj._id}`}\n        onDelete={async () => {\n          if (await deleteBarcodes(barcodeObj._id)) {\n            setBarcodes(barcodes.filter((u) => u._id !== barcodeObj._id));\n            setDeleteBoxVisible(false);\n          }\n        }}\n      />\n      <DataBox\n        visible={addBoxVisible}\n        setVisible={setAddBoxVisible}\n        options={{\n          title: \"اضافة مقال جديد\",\n          onSave: async () => {\n            const article = await addBarcode(addFormRef);\n            if (article) {\n              setBarcodes([...barcodes, article]);\n              setAddBoxVisible(false);\n            }\n          },\n          btnSave: \"اضافة\",\n          formRef: addFormRef,\n        }}\n        inputs={[\n            {\n              tag: \"input\",\n              label: \"الاسم\",\n              props: {\n                type: \"text\",\n                name: \"name\",\n                placeholder: \"الاسم\",\n                required: true,\n                maxLength: 100,\n                onChange: (e) =>\n                setBarcodeObj({\n                    ...barcodeObj,\n                    name: e.target.value,\n                  }),\n              },\n            },\n            {\n              tag: \"input\",\n              label: \"الباركود\",\n              props: {\n                type: \"text\",\n                name: \"code\",\n                placeholder: \"الباركود\",\n                required: true,\n                maxLength: 100,\n                onChange: (e) =>\n                setBarcodeObj({\n                    ...barcodeObj,\n                    code: e.target.value,\n                  }),\n              },\n            },\n\n            {\n              tag: \"input\",\n              label: \"نوع  الباركود\",\n              props: {\n                type: \"text\",\n                name: \"type\",\n                placeholder: \"نوع  الباركود\",\n                required: true,\n                maxLength: 100,\n                onChange: (e) =>\n                setBarcodeObj({\n                    ...barcodeObj,\n                    type: e.target.value,\n                  }),\n              },\n            },\n\n            {\n              tag: \"input\",\n              label: \"البروتينات\",\n              props: {\n                type: \"number\",\n                name: \"protein\",\n                placeholder: \"البروتينات\",\n                required: true,\n                maxLength: 100,\n                onChange: (e) =>\n                setBarcodeObj({\n                    ...barcodeObj,\n                    protein: e.target.value,\n                  }),\n              },\n            },\n            {\n              tag: \"input\",\n              label: \"الطاقة\",\n              props: {\n                type: \"number\",\n                name: \"energy\",\n                placeholder: \"الطاقة\",\n                required: true,\n                maxLength: 100,\n                onChange: (e) =>\n                setBarcodeObj({\n                    ...barcodeObj,\n                    energy: e.target.value,\n                  }),\n              },\n            },\n            {\n              tag: \"input\",\n              label: \"الدهون\",\n              props: {\n                type: \"number\",\n                name: \"fat\",\n                placeholder: \"الدهون\",\n                required: true,\n                maxLength: 100,\n                onChange: (e) =>\n                setBarcodeObj({\n                    ...barcodeObj,\n                    fat: e.target.value,\n                  }),\n              },\n            },\n            {\n              tag: \"input\",\n              label: \"الكربوهيدرات\",\n              props: {\n                type: \"text\",\n                name: \"carbs\",\n                placeholder: \"الكربوهيدرات\",\n                required: true,\n                maxLength: 100,\n                onChange: (e) =>\n                setBarcodeObj({\n                    ...barcodeObj,\n                    carbs: e.target.value,\n                  }),\n              },\n            },\n          {\n            tag: \"input\",\n            label: \"الصورة المصغرة\",\n            props: {\n              type: \"file\",\n              accept: \".jpg, .png, .jpeg\",\n              name: \"mainImage\",\n              placeholder: \"الصورة المصغرة\",\n              required: true,\n              multiple: true,\n\n              onChange: (e) =>\n                setBarcodeObj({ ...barcodeObj, mainImage: e.target.files[0] }),\n            },\n          },\n        ]}\n      />\n      <DataBox\n        visible={editBoxVisible}\n        setVisible={setEditBoxVisible}\n        options={{\n          title: `تعديل المقال رقم ${barcodeObj._id}`,\n          onSave: async () => {\n            const result = await editBarcode(editFormRef);\n            if (result) {\n              setBarcodes(\n                barcodes.map((u) => (u._id === result._id ? result : u))\n              );\n              setEditBoxVisible(false);\n            }\n          },\n          saveBtn: \"تعديل\",\n          formRef: editFormRef,\n          images: barcodeObj.mainImage,\n        }}\n        inputs={[\n          {\n            tag: \"input\",\n            props: {\n              type: \"hidden\",\n              value: barcodeObj._id,\n              name: \"_id\",\n            },\n          },\n          {\n            tag: \"input\",\n            label: \"عنوان المقال\",\n            props: {\n              type: \"text\",\n              value: barcodeObj.title,\n              name: \"title\",\n              placeholder: \"عنوان المقال\",\n              required: true,\n              maxLength: 100,\n              onChange: (e) =>\n                setBarcodeObj({ ...barcodeObj, title: e.target.value }),\n            },\n          },\n          {\n            tag: \"textarea\",\n            label: \"محتوي المقال\",\n            props: {\n              type: \"text\",\n              value: barcodeObj.content,\n              name: \"content\",\n              placeholder: \"محتوي المقال\",\n              required: true,\n              onChange: (e) =>\n                setBarcodeObj({ ...barcodeObj, content: e.target.value }),\n            },\n          },\n          {\n            tag: \"input\",\n            label: \"الصورة المصغرة\",\n            props: {\n              type: \"file\",\n              accept: \".jpg, .png, .jpeg\",\n              placeholder: \"الصورة المصغرة\",\n              name: \"mainImage\",\n              multiple: true,\n              onChange: (e) =>\n                setBarcodeObj({\n                  ...barcodeObj,\n                  mainImage: URL.createObjectURL(e.target.files[0]),\n                }),\n            },\n          },\n        ]}\n      />\n      <div className=\"main-container\">\n        <div className=\"page-position\">\n          <h2>لوحة التحكم</h2>\n          <p>/</p>\n          <h6>البحث عن طريق الباركود</h6>\n        </div>\n        <div className=\"container\">\n          {/*<SearchBox />*/}\n          <div className=\"add-new\">\n            <button\n              className=\"btn-add-new\"\n              onClick={() => setAddBoxVisible(true)}\n            >\n              أضف جديد\n            </button>\n          </div>\n          <Table\n            actions={{\n              edit: onClickEdit,\n              delete: onClickDelete,\n            }}\n            headers={[\n              \"#\",\n              \"الصورة المصغرة\",\n              \"عنوان المقال\",\n              \"محتوي المقال\",\n              \"تاريخ الإضافة\",\n            ]}\n            data={\n              barcodes &&\n              barcodes.map((u) => [\n                u._id,\n                { type: \"slider\", images: u.mainImage },\n                u.title,\n                u.content,\n                u.createDate,\n              ])\n            }\n          />\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Barcodes;\n"]},"metadata":{},"sourceType":"module"}