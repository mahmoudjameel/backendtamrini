{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\khamsat\\\\Nouveau dossier\\\\tamreny_project\\\\tamreny\\\\client\\\\src\\\\screens\\\\Questions\\\\Questions.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useRef } from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport { Table, DataBox, SearchBox, DeleteBox } from \"../../components\"; //Hooks\n\nimport useDietsHook from \"./hooks/index\"; //Styles\n\nimport \"./style.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Questions = () => {\n  _s();\n\n  const {\n    getQuestions,\n    deleteQuestion\n  } = useDietsHook();\n  const [questions, setQuestions] = useState([]);\n  const [answers, setAnswers] = useState([]);\n  const [deleteBoxVisible, setDeleteBoxVisible] = useState(false);\n  const [answersVisible, setAnswersVisible] = useState(false);\n  const [questionObj, setdietObj] = useState({\n    _id: 0,\n    question: \"\",\n    time: \"\"\n  });\n  useEffect(() => {\n    (async () => {\n      const result = await getQuestions();\n\n      if (result) {\n        setQuestions(result);\n      }\n    })();\n  }, []);\n\n  const onClickEdit = _id => {\n    const question = questions.find(u => u._id === _id);\n    setAnswers(question.answers);\n    setAnswersVisible(true);\n  };\n\n  const onClickDelete = _id => {\n    setdietObj(questions.find(u => u._id === _id));\n    setDeleteBoxVisible(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"\\u0644\\u0648\\u062D\\u0629 \\u0627\\u0644\\u062A\\u062D\\u0643\\u0645/ \\u0627\\u0644\\u0627\\u0633\\u0626\\u0644\\u0647\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DeleteBox, {\n      visible: deleteBoxVisible,\n      setVisible: setDeleteBoxVisible,\n      title: `حذف السؤال رقم ${questionObj._id}`,\n      onDelete: async () => {\n        if (await deleteQuestion(questionObj._id)) {\n          setQuestions(questions.filter(u => u._id !== questionObj._id));\n          setDeleteBoxVisible(false);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-position\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u0644\\u0648\\u062D\\u0629 \\u0627\\u0644\\u062A\\u062D\\u0643\\u0645\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n          children: \"  \\u0627\\u0644\\u0627\\u0633\\u0626\\u0644\\u0647\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          actions: {\n            edit: onClickEdit,\n            delete: onClickDelete\n          },\n          headers: [\"#\", \" السؤال\", \"تاريخ الإضافة\", \" السؤffال\"],\n          data: questions && questions.map(u => [u._id, u.question, u.time])\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), answersVisible ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          actions: {\n            edit: onClickEdit,\n            delete: onClickDelete\n          },\n          headers: [\" السؤال\"],\n          data: answers && answers.map(u => [u])\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 22\n      }, this) : \"\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Questions, \"h15euTwrUN7ZyKB9abjNteOE/CQ=\", false, function () {\n  return [useDietsHook];\n});\n\n_c = Questions;\nexport default Questions;\n\nvar _c;\n\n$RefreshReg$(_c, \"Questions\");","map":{"version":3,"sources":["C:/Users/user/Desktop/khamsat/Nouveau dossier/tamreny_project/tamreny/client/src/screens/Questions/Questions.jsx"],"names":["useState","useEffect","useRef","Helmet","Table","DataBox","SearchBox","DeleteBox","useDietsHook","Questions","getQuestions","deleteQuestion","questions","setQuestions","answers","setAnswers","deleteBoxVisible","setDeleteBoxVisible","answersVisible","setAnswersVisible","questionObj","setdietObj","_id","question","time","result","onClickEdit","find","u","onClickDelete","filter","edit","delete","map"],"mappings":"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","sourcesContent":["import { useState, useEffect, useRef } from \"react\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport { Table, DataBox, SearchBox, DeleteBox } from \"../../components\";\r\n\r\n//Hooks\r\nimport useDietsHook from \"./hooks/index\";\r\n\r\n//Styles\r\nimport \"./style.scss\";\r\n\r\nconst Questions = () => {\r\n  const {\r\n    getQuestions,\r\n    deleteQuestion,\r\n  } = useDietsHook();\r\n\r\n  const [questions, setQuestions] = useState([]);\r\n\r\n  const [answers, setAnswers] = useState([]);\r\n\r\n  const [deleteBoxVisible, setDeleteBoxVisible] = useState(false);\r\n  const [answersVisible, setAnswersVisible] = useState(false)\r\n\r\n  const [questionObj, setdietObj] = useState({\r\n    _id: 0,\r\n    question: \"\",\r\n    time: \"\",\r\n  });\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const result = await getQuestions();\r\n\r\n      if (result) {\r\n        setQuestions(result);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n\r\n  const onClickEdit = (_id) => {\r\n    const question = questions.find((u) => u._id === _id);\r\n    setAnswers(question.answers);\r\n    setAnswersVisible(true);\r\n  };\r\n\r\n  const onClickDelete = (_id) => {\r\n    setdietObj(questions.find((u) => u._id === _id));\r\n    setDeleteBoxVisible(true);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>لوحة التحكم/ الاسئله</title>\r\n      </Helmet>\r\n      <DeleteBox\r\n        visible={deleteBoxVisible}\r\n        setVisible={setDeleteBoxVisible}\r\n        title={`حذف السؤال رقم ${questionObj._id}`}\r\n        onDelete={async () => {\r\n        \r\n          if (await deleteQuestion(questionObj._id)) {\r\n            setQuestions(questions.filter((u) => u._id !== questionObj._id));\r\n            setDeleteBoxVisible(false);\r\n          }\r\n        }}\r\n      />\r\n\r\n\r\n    \r\n      <div className=\"main-container\">\r\n        <div className=\"page-position\">\r\n          <h2>لوحة التحكم</h2>\r\n          <p>/</p>\r\n          <h6>  الاسئله</h6>\r\n        </div>\r\n        <div className=\"container\">\r\n          {/*<SearchBox />*/}\r\n          <Table\r\n            actions={{\r\n              edit: onClickEdit,\r\n              delete: onClickDelete,\r\n            }}\r\n            headers={[\r\n              \"#\",\r\n              \" السؤال\",                    \r\n              \"تاريخ الإضافة\",\r\n              \" السؤffال\", \r\n            ]}\r\n            data={\r\n              questions &&\r\n              questions.map((u) => [\r\n                u._id,\r\n                u.question,\r\n                u.time,\r\n                \r\n              ])\r\n            }\r\n          />\r\n        </div>\r\n\r\n        {/* answers */}\r\n{ answersVisible ?   <div className=\"container\">\r\n          {/*<SearchBox />*/}\r\n          <Table\r\n            actions={{\r\n              edit: onClickEdit,\r\n              delete: onClickDelete,\r\n            }}\r\n            headers={[\r\n         \r\n              \" السؤال\",                   \r\n            ]}\r\n            data={\r\n              answers &&\r\n              answers.map((u) => [\r\n                u             \r\n                \r\n              ])\r\n            }\r\n          />\r\n        </div> : \"\"}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Questions;\r\n"]},"metadata":{},"sourceType":"module"}