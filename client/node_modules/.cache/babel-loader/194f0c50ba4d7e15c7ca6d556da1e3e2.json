{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\khamsat\\\\Nouveau dossier\\\\tamreny_project\\\\tamreny\\\\client\\\\src\\\\screens\\\\Questions\\\\Questions.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useRef } from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport { Table, DataBox, SearchBox, DeleteBox } from \"../../components\"; //Hooks\n\nimport useDietsHook from \"./hooks/index\"; //Styles\n\nimport \"./style.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Questions = () => {\n  _s();\n\n  const {\n    getQuestions,\n    deleteQuestion\n  } = useDietsHook();\n  const [questions, setQuestions] = useState([]);\n  const [answers, setAnswers] = useState([]);\n  const [deleteBoxVisible, setDeleteBoxVisible] = useState(false);\n  const [answersVisible, setAnswersVisible] = useState(false);\n  const [questionsVisible, setQuestionsVisible] = useState(true);\n  const [questionObj, setQuestionObj] = useState({\n    _id: 0,\n    question: \"\",\n    time: \"\"\n  });\n  const [answernObj, setAnswerObj] = useState({\n    _id: 0,\n    answer: \"\"\n  });\n  useEffect(() => {\n    (async () => {\n      const result = await getQuestions();\n\n      if (result) {\n        setQuestions(result);\n      }\n    })();\n  }, []);\n\n  const onClickEdit = _id => {\n    const question = questions.find(u => u._id === _id);\n    console.log(question);\n    setAnswers(question.answers);\n    setQuestionsVisible(false);\n    setAnswersVisible(true);\n  };\n\n  const onClickDelete = _id => {\n    setQuestionObj(questions.find(u => u._id === _id));\n    setDeleteBoxVisible(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"\\u0644\\u0648\\u062D\\u0629 \\u0627\\u0644\\u062A\\u062D\\u0643\\u0645/ \\u0627\\u0644\\u0627\\u0633\\u0626\\u0644\\u0647\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DeleteBox, {\n      visible: deleteBoxVisible,\n      setVisible: setDeleteBoxVisible,\n      title: `حذف السؤال رقم ${questionObj._id}`,\n      onDelete: async () => {\n        if (await deleteQuestion(questionObj._id)) {\n          setQuestions(questions.filter(u => u._id !== questionObj._id));\n          setDeleteBoxVisible(false);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-position\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u0644\\u0648\\u062D\\u0629 \\u0627\\u0644\\u062A\\u062D\\u0643\\u0645\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n          children: \"  \\u0627\\u0644\\u0627\\u0633\\u0626\\u0644\\u0647\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          actions: {\n            edit: onClickEdit,\n            delete: onClickDelete\n          },\n          headers: [\"#\", \" السؤال\", \"تاريخ الإضافة\", \" السؤffال\"],\n          data: questions && questions.map(u => [u._id, u.question, u.time])\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          actions: {// delete: onClickDelete,\n          },\n          headers: [\"#\", \" السؤال\"],\n          data: answers && answers\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 4\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Questions, \"zJDGhHSk5NPbzF6RCy3/oV/gdwQ=\", false, function () {\n  return [useDietsHook];\n});\n\n_c = Questions;\nexport default Questions;\n\nvar _c;\n\n$RefreshReg$(_c, \"Questions\");","map":{"version":3,"sources":["C:/Users/user/Desktop/khamsat/Nouveau dossier/tamreny_project/tamreny/client/src/screens/Questions/Questions.jsx"],"names":["useState","useEffect","useRef","Helmet","Table","DataBox","SearchBox","DeleteBox","useDietsHook","Questions","getQuestions","deleteQuestion","questions","setQuestions","answers","setAnswers","deleteBoxVisible","setDeleteBoxVisible","answersVisible","setAnswersVisible","questionsVisible","setQuestionsVisible","questionObj","setQuestionObj","_id","question","time","answernObj","setAnswerObj","answer","result","onClickEdit","find","u","console","log","onClickDelete","filter","edit","delete","map"],"mappings":"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","sourcesContent":["import { useState, useEffect, useRef } from \"react\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport { Table, DataBox, SearchBox, DeleteBox } from \"../../components\";\r\n\r\n//Hooks\r\nimport useDietsHook from \"./hooks/index\";\r\n\r\n//Styles\r\nimport \"./style.scss\";\r\n\r\nconst Questions = () => {\r\n  const {\r\n    getQuestions,\r\n    deleteQuestion,\r\n  } = useDietsHook();\r\n\r\n  const [questions, setQuestions] = useState([]);\r\n\r\n  const [answers, setAnswers] = useState([]);\r\n\r\n  const [deleteBoxVisible, setDeleteBoxVisible] = useState(false);\r\n  const [answersVisible, setAnswersVisible] = useState(false)\r\n  const [questionsVisible, setQuestionsVisible] = useState(true)\r\n\r\n  const [questionObj, setQuestionObj] = useState({\r\n    _id: 0,\r\n    question: \"\",\r\n    time: \"\",\r\n  });\r\n\r\n  const [answernObj, setAnswerObj] = useState({\r\n    _id: 0,\r\n    answer: \"\",\r\n  });\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const result = await getQuestions();\r\n\r\n      if (result) {\r\n        setQuestions(result);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n\r\n  const onClickEdit = (_id) => {\r\n    const question = questions.find((u) => u._id === _id);\r\n    console.log(question)\r\n    setAnswers(question.answers);\r\n    setQuestionsVisible(false)\r\n    setAnswersVisible(true);\r\n\r\n  };\r\n\r\n  const onClickDelete = (_id) => {\r\n    setQuestionObj(questions.find((u) => u._id === _id));\r\n    setDeleteBoxVisible(true);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>لوحة التحكم/ الاسئله</title>\r\n      </Helmet>\r\n      <DeleteBox\r\n        visible={deleteBoxVisible}\r\n        setVisible={setDeleteBoxVisible}\r\n        title={`حذف السؤال رقم ${questionObj._id}`}\r\n        onDelete={async () => {\r\n        \r\n          if (await deleteQuestion(questionObj._id)) {\r\n            setQuestions(questions.filter((u) => u._id !== questionObj._id));\r\n            setDeleteBoxVisible(false);\r\n          }\r\n        }}\r\n      />\r\n\r\n\r\n    \r\n      <div className=\"main-container\">\r\n        <div className=\"page-position\">\r\n          <h2>لوحة التحكم</h2>\r\n          <p>/</p>\r\n          <h6>  الاسئله</h6>\r\n        </div>\r\n        <div className=\"container\">\r\n          {/*<SearchBox />*/}\r\n          <Table\r\n            actions={{\r\n              edit: onClickEdit,\r\n              delete: onClickDelete,\r\n            }}\r\n            headers={[\r\n              \"#\",\r\n              \" السؤال\",                    \r\n              \"تاريخ الإضافة\",\r\n              \" السؤffال\", \r\n            ]}\r\n            data={\r\n              questions &&\r\n              questions.map((u) => [\r\n                u._id,\r\n                u.question,\r\n                u.time,\r\n                \r\n              ])\r\n            }\r\n          />\r\n        </div>\r\n\r\n        {/* answers */}\r\n   <div className=\"container\">\r\n          \r\n          <Table\r\n            actions={{\r\n              // delete: onClickDelete,\r\n            }}\r\n            headers={[\r\n              \"#\",\r\n              \" السؤال\",                   \r\n            ]}\r\n            data={\r\n              answers &&\r\n              answers\r\n            }\r\n          />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Questions;\r\n"]},"metadata":{},"sourceType":"module"}