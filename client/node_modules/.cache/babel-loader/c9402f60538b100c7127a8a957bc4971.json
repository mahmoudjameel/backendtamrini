{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\khamsat\\\\Nouveau dossier\\\\tamreny_project\\\\tamreny\\\\client\\\\src\\\\screens\\\\Users\\\\Users.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport { Table, DataBox, SearchBox, DeleteBox } from \"../../components\"; //Hooks\n\nimport useUsersHook from \"./hooks/index\"; //Styles\n\nimport \"./style.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Users = () => {\n  _s();\n\n  const {\n    getUsers,\n    deleteUser,\n    addUser,\n    editUser\n  } = useUsersHook();\n  const [users, setUsers] = useState([]);\n  const [addBoxVisible, setAddBoxVisible] = useState(false);\n  const [editBoxVisible, setEditBoxVisible] = useState(false);\n  const [deleteBoxVisible, setDeleteBoxVisible] = useState(false);\n  const [userObj, setUserObj] = useState({\n    _id: 0,\n    phoneNumber: \"\",\n    username: \"\",\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    passwordConfirm: \"\",\n    role: \"\"\n  });\n  useEffect(() => {\n    (async () => {\n      setUsers(await getUsers());\n    })();\n  }, []);\n  useEffect(() => {\n    if (addBoxVisible) setUserObj({\n      _id: 0,\n      phoneNumber: \"\",\n      username: \"\",\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      passwordConfirm: \"\",\n      role: \"\"\n    });\n  }, [addBoxVisible]);\n\n  const onClickEdit = _id => {\n    const user = users.find(u => u._id === _id);\n    delete user.password;\n    delete user.passwordConfirm;\n    setUserObj(user);\n    setEditBoxVisible(true);\n  };\n\n  const onClickDelete = _id => {\n    setUserObj(users.find(u => u._id === _id));\n    setDeleteBoxVisible(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"\\u0644\\u0648\\u062D\\u0629 \\u0627\\u0644\\u062A\\u062D\\u0643\\u0645 / \\u0627\\u0644\\u0645\\u0633\\u062A\\u062E\\u062F\\u0645\\u064A\\u0646\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DeleteBox, {\n      visible: deleteBoxVisible,\n      setVisible: setDeleteBoxVisible,\n      title: `حذف المستخدم رقم ${userObj._id}`,\n      onDelete: async () => {\n        if (await deleteUser(userObj._id)) {\n          setUsers(users.filter(u => u._id !== userObj._id));\n          setDeleteBoxVisible(false);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DataBox, {\n      visible: addBoxVisible,\n      setVisible: setAddBoxVisible,\n      options: {\n        title: \"اضافة مستخدم جديد\",\n        onSave: async () => {\n          const user = await addUser(userObj);\n\n          if (user) {\n            setUsers([...users, user]);\n            setAddBoxVisible(false);\n          }\n        },\n        btnSave: \"اضافة\"\n      },\n      inputs: [{\n        tag: \"input\",\n        label: \"رقم الهاتف\",\n        props: {\n          type: \"text\",\n          placeholder: \"رقم الهاتف\",\n          onChange: e => setUserObj({ ...userObj,\n            phoneNumber: e.target.value\n          })\n        }\n      }, {\n        tag: \"input\",\n        label: \"البريد الالكتروني\",\n        props: {\n          type: \"email\",\n          placeholder: \"البريد الالكتروني\",\n          onChange: e => setUserObj({ ...userObj,\n            email: e.target.value\n          })\n        }\n      }, {\n        tag: \"input\",\n        label: \"اسم المستخدم\",\n        props: {\n          type: \"text\",\n          placeholder: \"اسم المستخدم\",\n          onChange: e => setUserObj({ ...userObj,\n            username: e.target.value\n          })\n        }\n      }, {\n        tag: \"input\",\n        label: \"الاسم\",\n        props: {\n          type: \"text\",\n          placeholder: \"الاسم\",\n          onChange: e => setUserObj({ ...userObj,\n            name: e.target.value\n          })\n        }\n      }, {\n        tag: \"input\",\n        label: \"كلمة المرور\",\n        props: {\n          type: \"password\",\n          placeholder: \"كلمة المرور\",\n          onChange: e => setUserObj({ ...userObj,\n            password: e.target.value\n          })\n        }\n      }, {\n        tag: \"input\",\n        label: \"تأكيد كلمة المرور\",\n        props: {\n          type: \"password\",\n          placeholder: \"تأكيد كلمة المرور\",\n          onChange: e => setUserObj({ ...userObj,\n            passwordConfirm: e.target.value\n          })\n        }\n      }, {\n        tag: \"select\",\n        props: {\n          onChange: e => setUserObj({ ...userObj,\n            role: e.target.value\n          })\n        },\n        options: [{\n          label: \"المستوي\",\n          value: \"\"\n        }, {\n          label: \"مدير\",\n          value: \"admin\"\n        }, {\n          label: \"مستخدم\",\n          value: \"user\"\n        }]\n      }]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DataBox, {\n      visible: editBoxVisible,\n      setVisible: setEditBoxVisible,\n      options: {\n        title: `تعديل المستخدم رقم ${userObj._id}`,\n        onSave: async () => {\n          const user = await editUser(userObj);\n\n          if (user) {\n            setUsers(users.map(u => u._id === user._id ? user : u));\n            setEditBoxVisible(false);\n          }\n        },\n        saveBtn: \"تعديل\"\n      },\n      inputs: [{\n        tag: \"input\",\n        label: \"رقم الهاتف\",\n        props: {\n          type: \"text\",\n          placeholder: \"رقم الهاتف\",\n          value: userObj.phoneNumber,\n          onChange: e => setUserObj({ ...userObj,\n            phoneNumber: e.target.value\n          })\n        }\n      }, {\n        tag: \"input\",\n        label: \"البريد الالكتروني\",\n        props: {\n          type: \"email\",\n          placeholder: \"البريد الالكتروني\",\n          value: userObj.email,\n          onChange: e => setUserObj({ ...userObj,\n            email: e.target.value\n          })\n        }\n      }, {\n        tag: \"input\",\n        label: \"اسم المستخدم\",\n        props: {\n          type: \"text\",\n          placeholder: \"اسم المستخدم\",\n          value: userObj.username,\n          onChange: e => setUserObj({ ...userObj,\n            username: e.target.value\n          })\n        }\n      }, {\n        tag: \"input\",\n        label: \"الاسم\",\n        props: {\n          type: \"text\",\n          placeholder: \"الاسم\",\n          value: userObj.name,\n          onChange: e => setUserObj({ ...userObj,\n            name: e.target.value\n          })\n        }\n      }, {\n        tag: \"input\",\n        label: \"كلمة المرور\",\n        props: {\n          type: \"password\",\n          placeholder: \"كلمة المرور\",\n          onChange: e => setUserObj({ ...userObj,\n            password: e.target.value\n          })\n        }\n      }, {\n        tag: \"input\",\n        label: \"تأكيد كلمة المرور\",\n        props: {\n          type: \"password\",\n          placeholder: \"تأكيد كلمة المرور\",\n          onChange: e => setUserObj({ ...userObj,\n            passwordConfirm: e.target.value\n          })\n        }\n      }, {\n        tag: \"select\",\n        props: {\n          value: userObj.role,\n          onChange: e => setUserObj({ ...userObj,\n            role: e.target.value\n          })\n        },\n        options: [{\n          label: \"المستوي\",\n          value: \"\"\n        }, {\n          label: \"مدير\",\n          value: \"admin\"\n        }, {\n          label: \"مستخدم\",\n          value: \"user\"\n        }]\n      }]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-position\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u0644\\u0648\\u062D\\u0629 \\u0627\\u0644\\u062A\\u062D\\u0643\\u0645\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n          children: \"\\u0627\\u0644\\u0645\\u0633\\u062A\\u062E\\u062F\\u0645\\u064A\\u0646\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"add-new\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-add-new\",\n            onClick: () => setAddBoxVisible(true),\n            children: \"\\u0623\\u0636\\u0641 \\u062C\\u062F\\u064A\\u062F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Table, {\n          actions: {\n            edit: onClickEdit,\n            delete: onClickDelete\n          },\n          headers: [\"#\", \"الاسم\", \"البريد الالكتروني\", \"اسم المستخدم\", \"رقم الهاتف\", \"المستوي\", \"تاريخ التسجيل\"],\n          data: users && users.map(u => [u._id, u.name, u.email, u.username, u.phoneNumber, u.role, u.createDate])\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Users, \"pR1sIn4KEq5VpAjbgAVQsEkgzfQ=\", false, function () {\n  return [useUsersHook];\n});\n\n_c = Users;\nexport default Users;\n\nvar _c;\n\n$RefreshReg$(_c, \"Users\");","map":{"version":3,"sources":["C:/Users/user/Desktop/khamsat/Nouveau dossier/tamreny_project/tamreny/client/src/screens/Users/Users.jsx"],"names":["useState","useEffect","Helmet","Table","DataBox","SearchBox","DeleteBox","useUsersHook","Users","getUsers","deleteUser","addUser","editUser","users","setUsers","addBoxVisible","setAddBoxVisible","editBoxVisible","setEditBoxVisible","deleteBoxVisible","setDeleteBoxVisible","userObj","setUserObj","_id","phoneNumber","username","name","email","password","passwordConfirm","role","onClickEdit","user","find","u","onClickDelete","filter","title","onSave","btnSave","tag","label","props","type","placeholder","onChange","e","target","value","options","map","saveBtn","edit","delete","createDate"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport { Table, DataBox, SearchBox, DeleteBox } from \"../../components\";\n\n//Hooks\nimport useUsersHook from \"./hooks/index\";\n\n//Styles\nimport \"./style.scss\";\n\nconst Users = () => {\n  const { getUsers, deleteUser, addUser, editUser } = useUsersHook();\n\n  const [users, setUsers] = useState([]);\n  const [addBoxVisible, setAddBoxVisible] = useState(false);\n  const [editBoxVisible, setEditBoxVisible] = useState(false);\n  const [deleteBoxVisible, setDeleteBoxVisible] = useState(false);\n\n  const [userObj, setUserObj] = useState({\n    _id: 0,\n    phoneNumber: \"\",\n    username: \"\",\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    passwordConfirm: \"\",\n    role: \"\",\n  });\n\n  useEffect(() => {\n    (async () => {\n      setUsers(await getUsers());\n    })();\n  }, []);\n\n  useEffect(() => {\n    if (addBoxVisible)\n      setUserObj({\n        _id: 0,\n        phoneNumber: \"\",\n        username: \"\",\n        name: \"\",\n        email: \"\",\n        password: \"\",\n        passwordConfirm: \"\",\n        role: \"\",\n      });\n  }, [addBoxVisible]);\n\n  const onClickEdit = (_id) => {\n    const user = users.find((u) => u._id === _id);\n    delete user.password;\n    delete user.passwordConfirm;\n    setUserObj(user);\n    setEditBoxVisible(true);\n  };\n  const onClickDelete = (_id) => {\n    setUserObj(users.find((u) => u._id === _id));\n    setDeleteBoxVisible(true);\n  };\n\n  return (\n    <>\n      <Helmet>\n        <title>لوحة التحكم / المستخدمين</title>\n      </Helmet>\n      <DeleteBox\n        visible={deleteBoxVisible}\n        setVisible={setDeleteBoxVisible}\n        title={`حذف المستخدم رقم ${userObj._id}`}\n        onDelete={async () => {\n          if (await deleteUser(userObj._id)) {\n            setUsers(users.filter((u) => u._id !== userObj._id));\n            setDeleteBoxVisible(false);\n          }\n        }}\n      />\n      <DataBox\n        visible={addBoxVisible}\n        setVisible={setAddBoxVisible}\n        options={{\n          title: \"اضافة مستخدم جديد\",\n          onSave: async () => {\n            const user = await addUser(userObj);\n            if (user) {\n              setUsers([...users, user]);\n              setAddBoxVisible(false);\n            }\n          },\n          btnSave: \"اضافة\",\n        }}\n        inputs={[\n          {\n            tag: \"input\",\n            label: \"رقم الهاتف\",\n            props: {\n              type: \"text\",\n              placeholder: \"رقم الهاتف\",\n              onChange: (e) =>\n                setUserObj({ ...userObj, phoneNumber: e.target.value }),\n            },\n          },\n          {\n            tag: \"input\",\n            label: \"البريد الالكتروني\",\n            props: {\n              type: \"email\",\n              placeholder: \"البريد الالكتروني\",\n              onChange: (e) =>\n                setUserObj({ ...userObj, email: e.target.value }),\n            },\n          },\n          {\n            tag: \"input\",\n            label: \"اسم المستخدم\",\n            props: {\n              type: \"text\",\n              placeholder: \"اسم المستخدم\",\n              onChange: (e) =>\n                setUserObj({ ...userObj, username: e.target.value }),\n            },\n          },\n          {\n            tag: \"input\",\n            label: \"الاسم\",\n            props: {\n              type: \"text\",\n              placeholder: \"الاسم\",\n              onChange: (e) => setUserObj({ ...userObj, name: e.target.value }),\n            },\n          },\n          {\n            tag: \"input\",\n            label: \"كلمة المرور\",\n            props: {\n              type: \"password\",\n              placeholder: \"كلمة المرور\",\n              onChange: (e) =>\n                setUserObj({ ...userObj, password: e.target.value }),\n            },\n          },\n          {\n            tag: \"input\",\n            label: \"تأكيد كلمة المرور\",\n            props: {\n              type: \"password\",\n              placeholder: \"تأكيد كلمة المرور\",\n              onChange: (e) =>\n                setUserObj({ ...userObj, passwordConfirm: e.target.value }),\n            },\n          },\n          {\n            tag: \"select\",\n            props: {\n              onChange: (e) => setUserObj({ ...userObj, role: e.target.value }),\n            },\n            options: [\n              {\n                label: \"المستوي\",\n                value: \"\",\n              },\n              {\n                label: \"مدير\",\n                value: \"admin\",\n              },\n              {\n                label: \"مستخدم\",\n                value: \"user\",\n              },\n            ],\n          },\n        ]}\n      />\n      <DataBox\n        visible={editBoxVisible}\n        setVisible={setEditBoxVisible}\n        options={{\n          title: `تعديل المستخدم رقم ${userObj._id}`,\n          onSave: async () => {\n            const user = await editUser(userObj);\n            if (user) {\n              setUsers(users.map((u) => (u._id === user._id ? user : u)));\n              setEditBoxVisible(false);\n            }\n          },\n          saveBtn: \"تعديل\",\n        }}\n        inputs={[\n          {\n            tag: \"input\",\n            label: \"رقم الهاتف\",\n            props: {\n              type: \"text\",\n              placeholder: \"رقم الهاتف\",\n              value: userObj.phoneNumber,\n              onChange: (e) =>\n                setUserObj({ ...userObj, phoneNumber: e.target.value }),\n            },\n          },\n          {\n            tag: \"input\",\n            label: \"البريد الالكتروني\",\n            props: {\n              type: \"email\",\n              placeholder: \"البريد الالكتروني\",\n              value: userObj.email,\n              onChange: (e) =>\n                setUserObj({ ...userObj, email: e.target.value }),\n            },\n          },\n          {\n            tag: \"input\",\n            label: \"اسم المستخدم\",\n            props: {\n              type: \"text\",\n              placeholder: \"اسم المستخدم\",\n              value: userObj.username,\n              onChange: (e) =>\n                setUserObj({ ...userObj, username: e.target.value }),\n            },\n          },\n          {\n            tag: \"input\",\n            label: \"الاسم\",\n            props: {\n              type: \"text\",\n              placeholder: \"الاسم\",\n              value: userObj.name,\n              onChange: (e) => setUserObj({ ...userObj, name: e.target.value }),\n            },\n          },\n          {\n            tag: \"input\",\n            label: \"كلمة المرور\",\n            props: {\n              type: \"password\",\n              placeholder: \"كلمة المرور\",\n              onChange: (e) =>\n                setUserObj({ ...userObj, password: e.target.value }),\n            },\n          },\n          {\n            tag: \"input\",\n            label: \"تأكيد كلمة المرور\",\n            props: {\n              type: \"password\",\n              placeholder: \"تأكيد كلمة المرور\",\n              onChange: (e) =>\n                setUserObj({ ...userObj, passwordConfirm: e.target.value }),\n            },\n          },\n          {\n            tag: \"select\",\n            props: {\n              value: userObj.role,\n              onChange: (e) => setUserObj({ ...userObj, role: e.target.value }),\n            },\n            options: [\n              {\n                label: \"المستوي\",\n                value: \"\",\n              },\n              {\n                label: \"مدير\",\n                value: \"admin\",\n              },\n              {\n                label: \"مستخدم\",\n                value: \"user\",\n              },\n            ],\n          },\n        ]}\n      />\n      <div className=\"main-container\">\n        <div className=\"page-position\">\n          <h2>لوحة التحكم</h2>\n          <p>/</p>\n          <h6>المستخدمين</h6>\n        </div>\n        <div className=\"container\">\n          {/*<SearchBox />*/}\n          <div className=\"add-new\">\n            <button\n              className=\"btn-add-new\"\n              onClick={() => setAddBoxVisible(true)}\n            >\n              أضف جديد\n            </button>\n          </div>\n          <Table\n            actions={{\n              edit: onClickEdit,\n              delete: onClickDelete,\n            }}\n            headers={[\n              \"#\",\n              \"الاسم\",\n              \"البريد الالكتروني\",\n              \"اسم المستخدم\",\n              \"رقم الهاتف\",\n              \"المستوي\",\n              \"تاريخ التسجيل\",\n            ]}\n            data={\n              users &&\n              users.map((u) => [\n                u._id,\n                u.name,\n                u.email,\n                u.username,\n                u.phoneNumber,\n                u.role,\n                u.createDate,\n              ])\n            }\n          />\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Users;\n"]},"metadata":{},"sourceType":"module"}